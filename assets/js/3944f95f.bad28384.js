"use strict";(self.webpackChunkbfluence_docs=self.webpackChunkbfluence_docs||[]).push([[877],{5629:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"integracao/autenticacao","title":"Autentica\xe7\xe3o","description":"Autentica\xe7\xe3o","source":"@site/docs/integracao/autenticacao.md","sourceDirName":"integracao","slug":"/integracao/autenticacao","permalink":"/bfluence-docs/docs/integracao/autenticacao","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"autenticacao","title":"Autentica\xe7\xe3o","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Introdu\xe7\xe3o \xe0 Integra\xe7\xe3o","permalink":"/bfluence-docs/docs/integracao/introducao"},"next":{"title":"Fluxo: Sincroniza\xe7\xe3o de BFLUs","permalink":"/bfluence-docs/docs/integracao/fluxo-bflus"}}');var t=a(4848),o=a(8453);const i={id:"autenticacao",title:"Autentica\xe7\xe3o",sidebar_position:2},r=void 0,c={},d=[{value:"Autentica\xe7\xe3o",id:"autentica\xe7\xe3o",level:3},{value:"Como funciona a autentica\xe7\xe3o",id:"como-funciona-a-autentica\xe7\xe3o",level:3},{value:"Etapa 1: Solicitar um token JWT",id:"etapa-1-solicitar-um-token-jwt",level:3},{value:"Etapa 2: Usar o JWT nas chamadas autenticadas",id:"etapa-2-usar-o-jwt-nas-chamadas-autenticadas",level:3},{value:"Exemplo de requisi\xe7\xe3o autenticada",id:"exemplo-de-requisi\xe7\xe3o-autenticada",level:3},{value:"Estrutura do JWT",id:"estrutura-do-jwt",level:3},{value:"Renova\xe7\xe3o do Token",id:"renova\xe7\xe3o-do-token",level:3},{value:"Boas pr\xe1ticas de seguran\xe7a",id:"boas-pr\xe1ticas-de-seguran\xe7a",level:3},{value:"Resumo",id:"resumo",level:3}];function l(e){const n={blockquote:"blockquote",code:"code",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h3,{id:"autentica\xe7\xe3o",children:"Autentica\xe7\xe3o"}),"\n",(0,t.jsxs)(n.p,{children:["A API da Bfluence utiliza o padr\xe3o ",(0,t.jsx)(n.strong,{children:"Bearer Token (JWT)"})," para autentica\xe7\xe3o de todas as requisi\xe7\xf5es privadas."]}),"\n",(0,t.jsx)(n.p,{children:"Esse fluxo garante seguran\xe7a, rastreabilidade e controle de acesso para cada parceiro integrado."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"como-funciona-a-autentica\xe7\xe3o",children:"Como funciona a autentica\xe7\xe3o"}),"\n",(0,t.jsx)(n.h3,{id:"etapa-1-solicitar-um-token-jwt",children:"Etapa 1: Solicitar um token JWT"}),"\n",(0,t.jsxs)(n.p,{children:["Antes de acessar os endpoints protegidos, sua aplica\xe7\xe3o dever\xe1 ",(0,t.jsx)(n.strong,{children:"solicitar um token de acesso"})," com suas credenciais:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"POST /auth/token\nContent-Type: application/json\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "client_id": "sua_comunidade_id",\n  "client_secret": "sua_chave_secreta"\n}\n'})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Essa requisi\xe7\xe3o deve ser feita diretamente do ",(0,t.jsx)(n.strong,{children:"servidor da sua aplica\xe7\xe3o"}),", nunca do frontend."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"etapa-2-usar-o-jwt-nas-chamadas-autenticadas",children:"Etapa 2: Usar o JWT nas chamadas autenticadas"}),"\n",(0,t.jsx)(n.p,{children:"Ap\xf3s obter o token JWT, todas as chamadas aos endpoints privados devem incluir o header:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer <seu_token_jwt>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u2705 ",(0,t.jsx)(n.strong,{children:"Aten\xe7\xe3o:"})," N\xe3o \xe9 necess\xe1rio (e nem recomendado) enviar novamente ",(0,t.jsx)(n.code,{children:"client_id"})," ou ",(0,t.jsx)(n.code,{children:"client_secret"})," ap\xf3s obter o JWT."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"exemplo-de-requisi\xe7\xe3o-autenticada",children:"Exemplo de requisi\xe7\xe3o autenticada"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"GET /communities/hub/client/123/get-bflus\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6...\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"estrutura-do-jwt",children:"Estrutura do JWT"}),"\n",(0,t.jsxs)(n.p,{children:["O token JWT segue o padr\xe3o assinado com ",(0,t.jsx)(n.strong,{children:"HMAC (HS256)"})," e inclui:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Expira\xe7\xe3o (",(0,t.jsx)(n.code,{children:"exp"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Identifica\xe7\xe3o da comunidade"}),"\n",(0,t.jsx)(n.li,{children:"Permiss\xf5es concedidas"}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["O token \xe9 gerado exclusivamente pela Bfluence. A comunidade ",(0,t.jsx)(n.strong,{children:"n\xe3o deve criar seus pr\xf3prios tokens"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"renova\xe7\xe3o-do-token",children:"Renova\xe7\xe3o do Token"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"O token possui tempo de expira\xe7\xe3o (exemplo: 24h)"}),"\n",(0,t.jsxs)(n.li,{children:["Ao expirar, basta solicitar um novo com o mesmo ",(0,t.jsx)(n.code,{children:"client_id"})," e ",(0,t.jsx)(n.code,{children:"client_secret"})]}),"\n",(0,t.jsxs)(n.li,{children:["Tokens expirados retornam erro ",(0,t.jsx)(n.code,{children:"401 Unauthorized"})]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"boas-pr\xe1ticas-de-seguran\xe7a",children:"Boas pr\xe1ticas de seguran\xe7a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.strong,{children:["Nunca exponha ",(0,t.jsx)(n.code,{children:"client_secret"})," no frontend"]})}),"\n",(0,t.jsx)(n.li,{children:"Armazene tokens e credenciais em vari\xe1veis de ambiente seguras"}),"\n",(0,t.jsx)(n.li,{children:"Em caso de comprometimento, solicite revoga\xe7\xe3o imediata \xe0 Bfluence"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"resumo",children:"Resumo"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Etapa"}),(0,t.jsx)(n.th,{children:"O que enviar"}),(0,t.jsx)(n.th,{children:"Onde usar"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Obter token"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"client_id"})," + ",(0,t.jsx)(n.code,{children:"client_secret"})]}),(0,t.jsxs)(n.td,{children:["Somente em ",(0,t.jsx)(n.code,{children:"/auth/token"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Usar endpoints protegidos"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Authorization: Bearer <token>"})}),(0,t.jsx)(n.td,{children:"Em todos os outros"})]})]})]}),"\n",(0,t.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>r});var s=a(6540);const t={},o=s.createContext(t);function i(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);