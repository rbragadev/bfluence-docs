"use strict";(self.webpackChunkbfluence_docs=self.webpackChunkbfluence_docs||[]).push([[62],{3394:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"integracao/fluxo-transacoes","title":"Fluxo: Envio de Transa\xe7\xf5es","description":"Fluxo: Envio de Transa\xe7\xf5es","source":"@site/docs/integracao/fluxo-transacoes.md","sourceDirName":"integracao","slug":"/integracao/fluxo-transacoes","permalink":"/bfluence-docs/docs/integracao/fluxo-transacoes","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"fluxo-transacoes","title":"Fluxo: Envio de Transa\xe7\xf5es","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Fluxo: Sincroniza\xe7\xe3o de BFLUs","permalink":"/bfluence-docs/docs/integracao/fluxo-bflus"},"next":{"title":"Endpoints","permalink":"/bfluence-docs/docs/category/endpoints"}}');var a=s(4848),i=s(8453);const r={id:"fluxo-transacoes",title:"Fluxo: Envio de Transa\xe7\xf5es",sidebar_position:4},t=void 0,c={},l=[{value:"Fluxo: Envio de Transa\xe7\xf5es",id:"fluxo-envio-de-transa\xe7\xf5es",level:3},{value:"Diagrama de sequ\xeancia",id:"diagrama-de-sequ\xeancia",level:3},{value:"Etapas",id:"etapas",level:3},{value:"Requisitos",id:"requisitos",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h3,{id:"fluxo-envio-de-transa\xe7\xf5es",children:"Fluxo: Envio de Transa\xe7\xf5es"}),"\n",(0,a.jsx)(n.p,{children:"Este fluxo descreve o envio de transa\xe7\xf5es comissionadas (j\xe1 calculadas) da comunidade para a Bfluence."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"diagrama-de-sequ\xeancia",children:"Diagrama de sequ\xeancia"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant Parceiro\n    participant Bfluence\n\n    Parceiro->>Bfluence: POST /community_transaction (via fila)\n    Bfluence--\x3e>Parceiro: Confirma\xe7\xe3o de recebimento\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"etapas",children:"Etapas"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"A comunidade identifica que uma venda foi realizada com um cupom de BFLU"}),"\n",(0,a.jsx)(n.li,{children:"Calcula o valor da comiss\xe3o"}),"\n",(0,a.jsxs)(n.li,{children:["Envia os dados via ",(0,a.jsx)(n.code,{children:"POST /community_transaction"})]}),"\n",(0,a.jsx)(n.li,{children:"A Bfluence valida e persiste os dados"}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Endpoint"}),": > ",(0,a.jsx)(n.a,{href:"/bfluence-docs/docs/endpoints/post-community-transaction",children:"GET /get-bflus \u2192 Consulta de BFLUs"})]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"requisitos",children:"Requisitos"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Token JWT v\xe1lido no header"}),"\n",(0,a.jsx)(n.li,{children:"Payload no formato JSON conforme"}),"\n"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"As transa\xe7\xf5es s\xe3o processadas de forma ass\xedncrona. Recomenda-se controle de retries ou filas locais no parceiro."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>t});var o=s(6540);const a={},i=o.createContext(a);function r(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);